import java.util.List;


public class KallDenNoe extends Player {
	
	public KallDenNoe(String name) {
		super(name);
	}
	@Override
	public Action dilemma(List<Action> opponentPreviousActions) {
		Action action = Action.COOPERATE;
		double punishFactor = 1.0;
		int size = opponentPreviousActions.size();
		for(int i=opponentPreviousActions.size()-1; i>=0; i--) {
			if(opponentPreviousActions.get(i)==Action.DEFECT) {
				punishFactor += 0.2*(i/size);
			}
			else {
				punishFactor -= 0.2*(i/size);
			}
		}
		if(Math.random()*punishFactor>0.5) {
			action = Action.DEFECT;
		}
		
		return action;
	}

}
